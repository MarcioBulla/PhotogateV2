
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Photogate V2 - ESP32 Optical Timer</title>

    <!-- Base theme variables -->
    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --accent-color: #667eea;
            --card-bg: #f8f9fa;
            --border-color: #e9ecef;
            --code-bg: #f8f9fa;
            --code-text: #495057;
            --shadow: rgba(0,0,0,.1);
        }
        [data-theme="dark"]{
            --bg-color:#1a1a1a; --text-color:#e0e0e0; --accent-color:#7c3aed;
            --card-bg:#2d2d2d; --border-color:#404040; --code-bg:#1e1e1e; --code-text:#e0e0e0; --shadow:rgba(0,0,0,.3);
        }
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.6;color:var(--text-color);background:var(--bg-color);transition:background-color .3s,color .3s}
        .container{max-width:1100px;margin:0 auto;padding:0 20px}
        header{background:var(--card-bg);border-bottom:1px solid var(--border-color);padding:1rem 0;position:sticky;top:0;z-index:100;backdrop-filter:blur(10px)}
        .header-content{display:flex;justify-content:space-between;align-items:center}
        .logo{display:flex;align-items:center;gap:.6rem}
        .logo img{height:28px;width:auto;display:block}
        .logo h1{color:var(--accent-color);font-size:1.2rem;font-weight:700}
        .theme-controls{display:flex;align-items:center;gap:1rem}
        .theme-toggle{background:none;border:2px solid var(--border-color);border-radius:50px;padding:.5rem 1rem;cursor:pointer;color:var(--text-color);transition:all .3s;font-size:.9rem}
        .theme-toggle:hover{border-color:var(--accent-color);color:var(--accent-color)}
        main{padding:2rem 0}
        .hero{text-align:center;padding:3rem 0}
        .hero h2{font-size:2.5rem;margin-bottom:.5rem;color:var(--accent-color);font-weight:700}
        .hero p{font-size:1.1rem;margin-bottom:2rem;opacity:.8}
        .version-badge{display:inline-block;background:var(--accent-color);color:#fff;padding:.3rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500;margin-bottom:1rem}
        .btn{display:inline-block;padding:.8rem 1.5rem;background:var(--accent-color);color:#fff;text-decoration:none;border-radius:6px;font-weight:500;margin:.5rem;transition:all .3s}
        .btn:hover{background:#5a67d8;transform:translateY(-1px)}
        .btn-outline{background:transparent;border:2px solid var(--accent-color);color:var(--accent-color)}
        .btn-outline:hover{background:var(--accent-color);color:#fff}
        .section{margin:3rem 0}
        .section h3{font-size:1.8rem;margin-bottom:1.5rem;color:var(--accent-color);font-weight:600}
        .card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:8px;padding:1.5rem;margin:1rem 0;box-shadow:0 2px 8px var(--shadow)}
        .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem;margin-top:2rem}
        .feature-card{background:var(--card-bg);border:1px solid var(--border-color);border-radius:8px;padding:1.5rem;text-align:center;transition:all .3s}
        .feature-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px var(--shadow)}
        .feature-icon{font-size:2.5rem;margin-bottom:1rem}
        .feature-card h4{font-size:1.1rem;margin-bottom:.5rem;color:var(--accent-color)}
        .tech-stack{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap;margin:2rem 0}
        .tech-item{background:var(--accent-color);color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;font-weight:500}
        .repository-list{list-style:none;margin:1rem 0}
        .repository-list li{padding:.5rem 0;border-bottom:1px solid var(--border-color)}
        .repository-list li:last-child{border-bottom:none}
        .folder-name{font-weight:600;color:var(--accent-color)}
        footer{background:var(--card-bg);border-top:1px solid var(--border-color);text-align:center;padding:2rem 0;margin-top:4rem}
        @media (max-width:768px){.hero h2{font-size:2rem}.header-content{flex-direction:column;gap:1rem}.container{padding:0 15px}}
        .fade-in{animation:fadeIn .6s ease-in}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        /* Code wrapper + copy */
        .code-wrapper{position:relative;background:var(--code-bg);border:1px solid var(--border-color);border-radius:8px;overflow:hidden;box-shadow:0 2px 8px var(--shadow);margin:.75rem 0 1.25rem}
        .code-wrapper pre{margin:0;padding:1.25rem 1rem 1rem;background:transparent}
        .copy-btn{position:absolute;top:8px;right:8px;background:var(--accent-color);color:#fff;border:none;padding:4px 10px;font-size:.8rem;border-radius:4px;cursor:pointer;opacity:.9;transition:opacity .2s,transform .05s}
        .copy-btn:hover{opacity:1}.copy-btn:active{transform:translateY(1px)}
    </style>

    <!-- Favicon + OpenGraph icon (your logo) -->
    <link rel="icon" type="image/png" href="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAA..." />

    <!-- Prism CSS (syntax highlight) -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"/>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img alt="Photogate V2 logo" src="icon.png"/>
                    <h1>Photogate V2</h1>
                </div>
                <div class="theme-controls">
                    <button class="theme-toggle" onclick="toggleTheme()">üåô Dark Mode</button>
                </div>
            </div>
        </div>
    </header>

    <main class="container">
        <section class="hero fade-in">
            <div class="version-badge">Version 2.0</div>
            <h2>Photogate V2</h2>
            <p>High-precision optical timer based on ESP32</p>
            <div>
                <a href="https://github.com/MarcioBulla/PhotogateV2" class="btn" target="_blank" rel="noopener">üìÅ GitHub</a>
                <a href="#ibom" class="btn btn-outline">üîß View IBOM</a>
            </div>
        </section>

        <section class="section">
            <h3>Overview</h3>
            <div class="card">
                <p>This is the second version of the <strong>Photogate</strong> project, featuring significant improvements in accuracy, reliability, and visual interface, along with available 3D models and schematics. Designed for educational and experimental applications using the ESP32 platform.</p>
                <div class="tech-stack">
                    <div class="tech-item">ESP-IDF v5.4.2</div>
                    <div class="tech-item">ESP32</div>
                    <div class="tech-item">Open Hardware</div>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Key Features</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h4>High Precision</h4>
                    <p>Extremely precise time measurements for scientific experiments.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîß</div>
                    <h4>Open Hardware</h4>
                    <p>PCB schematics and 3D models available for custom builds.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéì</div>
                    <h4>Educational</h4>
                    <p>Perfect for physics labs and kinematics experiments.</p>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Build and Run</h3>
            <div class="card">
                <h4>üìã Requirements</h4>
                <ul style="margin:1rem 0 1rem 2rem">
                    <li><strong>ESP-IDF v5.4.2</strong></li>
                    <li>A configured ESP32 development environment (terminal toolchain)</li>
                    <li>Required cables and hardware to flash the firmware</li>
                </ul>

                <h4>üöÄ Quick Start</h4>

                <p><strong>1Ô∏è‚É£ Clone the repository</strong></p>
                <div class="code-wrapper">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-bash">git clone https://github.com/MarcioBulla/PhotogateV2.git
cd PhotogateV2
</code></pre>
                </div>


<p><strong>2Ô∏è‚É£ Set up the ESP-IDF environment</strong></p>
                <p>Follow the official guide: <a href="https://docs.espressif.com/projects/esp-idf" target="_blank" rel="noopener">Get Started with ESP-IDF</a>.</p>

                <p><strong>3Ô∏è‚É£ Build, flash, and monitor</strong></p>
                <div class="code-wrapper">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre><code class="language-bash">idf.py build flash monitor
</code></pre>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Repository Structure</h3>
            <div class="card">
                <ul class="repository-list">
                    <li><div class="folder-name">üìÅ firmware/</div><div>C source code for ESP32 firmware</div></li>
                    <li><div class="folder-name">üìÅ boards/</div><div>PCB layouts or circuit schematics</div></li>
                    <li><div class="folder-name">üìÅ 3DModels/</div><div>Printable or viewable 3D models of the device</div></li>
                    <li><div class="folder-name">üìÑ README.md</div><div>Project documentation</div></li>
                </ul>
            </div>
        </section>

        <section id="ibom" class="section ibom-section">
            <h3>Interactive BOM</h3>
            <div class="card ibom-container" style="padding:0;overflow:hidden">
                <div class="ibom-header" style="background:var(--accent-color);color:#fff;padding:1rem;font-weight:600">
                    üìã Interactive Bill of Materials
                </div>
                <iframe src="../boards/ibom.html" width="100%" height="720" style="border:none">
                    Your browser does not support iframes.
                </iframe>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Photogate V2 - Developed by <strong>Marcio Bulla</strong></p>
            <p style="margin-top:.5rem;opacity:.7;font-size:.9rem">
                Inspired by the first Photogate (Optical Timer) version<br>
                Special thanks to the libraries used: encoder_menu.py, rotary.py, and rotary_irq_esp.py
            </p>
        </div>
    </footer>

    <!-- Prism core + autoloader -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>Prism.plugins.autoloader.languages_path='https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/';</script>

    <script>
        // Theme
        function getPreferredTheme(){const s=localStorage.getItem('theme');if(s)return s;return window.matchMedia('(prefers-color-scheme: dark)').matches?'dark':'light'}
        function setTheme(t){const b=document.body,btn=document.querySelector('.theme-toggle');if(t==='dark'){b.setAttribute('data-theme','dark');btn.textContent='‚òÄÔ∏è Light Mode';}else{b.removeAttribute('data-theme');btn.textContent='üåô Dark Mode';}localStorage.setItem('theme',t)}
        function toggleTheme(){const c=document.body.getAttribute('data-theme')==='dark'?'dark':'light';setTheme(c==='dark'?'light':'dark')}
        document.addEventListener('DOMContentLoaded',()=>setTheme(getPreferredTheme()))
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',e=>{if(!localStorage.getItem('theme'))setTheme(e.matches?'dark':'light')})

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(a=>a.addEventListener('click',e=>{e.preventDefault();const t=document.querySelector(a.getAttribute('href'));if(t)t.scrollIntoView({behavior:'smooth',block:'start'})}))

        // Copy button
        function copyCode(button){
            const code = button.nextElementSibling?.innerText || '';
            navigator.clipboard.writeText(code).then(()=>{
                const o=button.textContent;button.textContent='Copied!';setTimeout(()=>button.textContent=o,2000);
            }).catch(()=>{
                button.textContent='Failed';setTimeout(()=>button.textContent='Copy',2000);
            });
        }
    </script>
</body>
</html>

